<{include file="block/sheader.html"}>
<{include file="block/header.html"}>   
<SCRIPT language=JavaScript>
function IsDigit(cCheck)
{
 return ((('0'<=cCheck) && (cCheck<='9'))||cCheck=='.');
 }
function CheckNum(charValue,alertValue,obj)
{
	for(var iIndex=0;iIndex<charValue.length;iIndex++)
	{
		var cCheck=charValue.charAt(iIndex);
		if(!IsDigit(cCheck))
		{
		alert(alertValue);
		obj.focus();
		return false;
		}
	}
}
function wall_brick(form)
{
 //检查输入
 if(checkInput(form)==false) return;
 var room_long=0,room_width=0,room_height=0,door_height=0,door_width=0,door_num=0;
 var window_height=0,window_width=0,window_num=0,brick_long=0,brick_width=0;
 var bricknum=0;
 var rate=1.05;
 //给各个变量赋值
 room_long=form.room_long.value*1000;
 room_width=form.room_width.value*1000;
 room_height=form.room_height.value*1000;
 
 door_height=form.door_height.value*1000;
 door_width=form.door_width.value*1000;
 door_num=form.door_num.value;
 
 window_height=form.window_height.value*1000;
 window_width=form.window_width.value*1000;
 window_num=form.window_num.value;
 
 brick_long=form.brick_long.value;
 brick_width=form.brick_width.value;
 
 //开始计算
 //用砖数量（块数）=[（房间的长度÷砖长）×（房间高度÷砖宽）×2+ 
 //（房间的宽度÷砖长）×（房间高度÷砖宽）×2—（窗户的长度÷砖长）×
 //（窗户的宽度÷砖宽）×个数—（门的长度÷砖长）×（门的宽度÷砖宽）×个数]×1.05
 bricknum=(room_long/brick_long)*(room_height/brick_width)*2;
 bricknum= parseFloat(bricknum)+parseFloat((room_width/brick_long)*(room_height/brick_width) *2);
 bricknum=parseFloat(bricknum)- parseFloat((window_height/brick_long)*(window_width/brick_width)*window_num);
 bricknum=parseFloat(bricknum)-parseFloat((door_height/brick_long)*(door_width/brick_width)*door_num);
 bricknum=Math.round(bricknum*1.05);
 
//form.wallbricknum.value=bricknum;
 document.getElementById("rt").innerHTML=bricknum+"块";
}
function checkInput(wallbrickfrm)
{
	if(wallbrickfrm.room_long.value==""){
		alert("请输入房间长度");
		wallbrickfrm.room_long.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.room_long.value,"房间长度只能输入数字格式！",wallbrickfrm.room_long)==false)
	return false;

	if(wallbrickfrm.room_width.value==""){
		alert("请输入房间宽度");
		wallbrickfrm.room_width.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.room_width.value,"房间宽度只能输入数字格式！",wallbrickfrm.room_width)==false)
	return false;
	if(wallbrickfrm.room_height.value==""){
		alert("请输入房间高度");
		wallbrickfrm.room_height.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.room_height.value,"房间高度只能输入数字格式！",wallbrickfrm.room_height)==false)
	return false;
	if(wallbrickfrm.door_height.value==""){
		alert("请输入房门高度");
		wallbrickfrm.door_height.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.door_height.value,"房门高度只能输入数字格式！",wallbrickfrm.door_height)==false)
	return false;
	if(wallbrickfrm.door_width.value==""){
		alert("请输入房门宽度");
		wallbrickfrm.door_width.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.door_width.value,"房门宽度只能输入数字格式！",wallbrickfrm.door_width)==false)
	return false;

	if(wallbrickfrm.door_num.value==""){
		alert("请输入房门扇数");
		wallbrickfrm.door_num.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.door_num.value,"房门扇数只能输入数字格式！",wallbrickfrm.door_num)==false)
	return false;
		
	if(wallbrickfrm.window_height.value==""){
		alert("请输入窗户高度");
		wallbrickfrm.window_height.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.window_height.value,"窗户高度只能输入数字格式！",wallbrickfrm.window_height)==false)
	return false;
	if(wallbrickfrm.window_width.value==""){
		alert("请输入窗户宽度");
		wallbrickfrm.window_width.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.window_width.value,"窗户宽度只能输入数字格式！",wallbrickfrm.window_width)==false)
	return false;
	if(wallbrickfrm.window_num.value==""){
		alert("请输入窗户扇数");
		wallbrickfrm.window_num.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.window_num.value,"窗户扇数只能输入数字格式！",wallbrickfrm.window_num)==false)
	return false;
		
	if(wallbrickfrm.brick_long.value==""){
		alert("请输入墙砖长度");
		wallbrickfrm.brick_long.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.brick_long.value,"墙砖长度只能输入数字格式！",wallbrickfrm.brick_long)==false)
	return false;
	if(wallbrickfrm.brick_width.value==""){
		alert("请输入墙砖宽度");
		wallbrickfrm.brick_width.focus();
		return false;
		}
	if(CheckNum(wallbrickfrm.brick_width.value,"墙砖宽度只能输入数字格式！",wallbrickfrm.brick_width)==false)
	return false;
}
function autoinput(form)
{
	//alert(form.bricktype.value);
	switch(parseInt(form.bricktype.value))
	{
		case 0:
		     form.brick_long.value=200;
			 form.brick_width.value=200;
		     break;
		case 1:
		     form.brick_long.value=300;
			 form.brick_width.value=300;
		     break;
		case 2:
			 form.brick_long.value=400;
			 form.brick_width.value=400;
		     break;
		case 3:
			 form.brick_long.value=500;
			 form.brick_width.value=500;
		     break;
		case 4:
			 form.brick_long.value=600;
			 form.brick_width.value=600;
			 break;
		case 5:
			 form.brick_long.value=300;
			 form.brick_width.value=200;
			 break;
		case 6:
			 form.brick_long.value=250;
			 form.brick_width.value=330;
			 break;
		case 7:
			 form.brick_long.value=300;
			 form.brick_width.value=450;
			
	}
}
</SCRIPT>

<div class="mb10 subwd sub_topnav">
	<p><span class="ico_list breadna"></span>您的位置：<a href="<{link ctl='index'}>"><{$CONFIG.site.title}></a>
    	><a href="<{link ctl='tools'  arg0=items}>">工具箱</a>
			><a href="<{link ctl='tools'  arg0=$tool}>"><{$tools_array[$tool]}></a>
		</p>
</div>

<!--面包屑导航结束-->
<div class="subwd mb20">
	<!--主体左边内容开始-->
	<div class="about_lt lt">
		<ul>
             <{foreach $tools_array as $k => $item}>
                     <li><a <{if $tool == $k}> class="current" <{/if}> href="<{link ctl='tools' arg0=$k}>"><{$item}></a></li>
            <{/foreach}>
		</ul>
	</div>
	<!--主体左边内容结束-->
	<!--主体右边内容开始-->
	<div class="about_rt rt">
		<div class="pding">
		 <h2 align="center"><{$tools_array[$tool]}></h2>
        	 <form action="" method="post" name="form2" class="counter">
               		
                     <h3>1、请输入居室信息</h3>
                     <div>
                        <input name="room_long" class="text" placeholder="房间长度" type="text">米
                        <input name="room_width" class="text" placeholder="房间宽度" type="text">米
                        <input name="room_height" class="text" placeholder="房间高度" type="text">米
                     </div>
                     <h3>2、请您输入室内门窗信息</h3>
                     <div>
                        <input name="door_height" class="text" placeholder="房门高度" type="text">米
                        <input name="window_height" class="text" placeholder="窗户高度" type="text">米
                        <input name="door_width" class="text" placeholder="房门宽度" type="text">米
                    </div>
                     <div>
                        <input name="window_width" class="text" placeholder="窗户宽度" type="text">米
                        <input name="door_num" class="text" placeholder="房门扇数" type="text">个
                        <input name="window_num" class="text" placeholder="窗户扇数" type="text">个
                     </div>
                     <h3>3、请输入配备的单块墙砖信息</h3>
                     <div>
                     	 墙砖长度：<input name="brick_long" class="text" placeholder="墙砖长度" value="200" type="text">毫米<br>
                         墙砖宽度：<input name="brick_width" class="text" placeholder="墙砖宽度" value="200" type="text">毫米<br>
                        或选择标准规格的墙砖:<select name="bricktype" onchange="autoinput(this.form)" class="text">
                                          <option selected="" value="0">200x200</option>
                                          <option value="1">300x300</option>
                                          <option value="2">400x400</option>
                                          <option value="3">500x500</option>
                                          <option value="4">600x600</option>
                                          <option value="5">300x200</option>
                                          <option value="6">250x330</option>
                                          <option value="7">300x450</option>
                                        </select> 毫米
                     </div>
					 <div class="counter_btn">计算结果：<span id="rt" class="jieguo"></span>
					 	<input type="button" onclick="wall_brick(this.form)" value="开始计算" name="Submit" class="btn btn_sub_apply">
					 	<input type="reset" value="重新输入" name="Submit" class="btn btn_main"></div>
             </form>
			             
		</div>
	</div>
	<!--主体右边内容结束-->
	<div class="cl"></div>
</div>
<{include file="block/footer.html"}>